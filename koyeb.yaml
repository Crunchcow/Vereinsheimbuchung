app:
  name: vereinsheimbuchung
  services:
    - name: web
      instance_type: free
      regions:
        - fra  # Frankfurt, Deutschland
      build:
        builder: buildpack
        buildpack:
          build_command: pip install -r backend/requirements.txt
          run_command: cd backend && uvicorn app.main:app --host 0.0.0.0 --port $PORT
      ports:
        - port: 8000
          protocol: http
      routes:
        - path: /
          port: 8000
      health_check:
        http:
          path: /
          port: 8000
      scaling:
        min: 1
        max: 1
      # Environment-Variablen werden Ã¼ber Koyeb Dashboard gesetzt
      env:
        - name: PORT
          value: "8000"
